!function(){var e={973:function(e,t,a){"use strict";var l=window.wp.i18n,c=window.wp.blocks,n=window.wp.element,r=window.wp.blockEditor,i=window.wp.components;function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}var m=function(e){var t=e.icon,a=e.size,l=void 0===a?24:a,c=function(e,t){if(null==e)return{};var a,l,c=function(e,t){if(null==e)return{};var a,l,c={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}(e,["icon","size"]);return(0,n.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({width:l,height:l},c))},u="loos/schema",d=window.wp.primitives,_=(0,n.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(d.Path,{d:"M9.518 8.783a.25.25 0 00.188-.137l2.069-4.192a.25.25 0 01.448 0l2.07 4.192a.25.25 0 00.187.137l4.626.672a.25.25 0 01.139.427l-3.347 3.262a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.363.264l-4.137-2.176a.25.25 0 00-.233 0l-4.138 2.175a.25.25 0 01-.362-.263l.79-4.607a.25.25 0 00-.072-.222L4.753 9.882a.25.25 0 01.14-.427l4.625-.672zM12 14.533c.28 0 .559.067.814.2l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39v7.143z"})),w=(0,n.createElement)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(d.Path,{d:"M14 5H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm.5 12c0 .3-.2.5-.5.5H4c-.3 0-.5-.2-.5-.5V7c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v10zm2.5-7v4l5 3V7l-5 3zm3.5 4.4l-2-1.2v-2.3l2-1.2v4.7z"})),p=[{name:"product",title:(0,l.__)("商品レビュー","swell")+" (β)",attributes:{type:"product"},icon:_,scope:["block"],isDefault:!0,isActive:(e,t)=>e.type===t.type},{name:"video",title:(0,l.__)("動画","swell")+" (β)",attributes:{type:"video"},icon:w,scope:["block"],isActive:(e,t)=>e.type===t.type}],v=React.createElement("svg",{viewBox:"0 0 56 56"},React.createElement("g",null,React.createElement("rect",{x:"37",y:"11",width:"6",height:"4"}),React.createElement("rect",{x:"37",y:"17",width:"6",height:"4"}),React.createElement("rect",{x:"37",y:"23",width:"6",height:"4"}),React.createElement("rect",{x:"37",y:"29",width:"6",height:"4"}),React.createElement("polygon",{points:"40,47 50,33 30,33 \t"})),React.createElement("g",null,React.createElement("path",{d:"M15,21c-5,0-9-4-9-9s4-9,9-9s9,4,9,9S20,21,15,21z M15,6c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S18.3,6,15,6z"}),React.createElement("path",{d:"M15,45c-5,0-9-4-9-9s4-9,9-9s9,4,9,9S20,45,15,45z M15,30c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6S18.3,30,15,30z"}),React.createElement("rect",{x:"13.5",y:"19",width:"3",height:"10"}),React.createElement("rect",{x:"13.5",y:"43",width:"3",height:"10"}))),E=window.wp.data,R="function"==typeof r.BlockVariationPicker?r.BlockVariationPicker:r.__experimentalBlockVariationPicker,h=({name:e,setAttributes:t})=>{const{blockType:a,defaultVariation:l,variations:n}=(0,E.useSelect)((t=>{const{getBlockVariations:a,getBlockType:l,getDefaultBlockVariation:n}=t(c.store);return{blockType:l(e),defaultVariation:n(e,"block"),variations:a(e,"block")}}),[e]);return console.log(a,l,n),React.createElement("div",(0,r.useBlockProps)(),React.createElement(R,{label:a.title,variations:n,onSelect:(e=l)=>{t(e.attributes)}}))},g=(0,n.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(d.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),b=(0,n.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(d.Path,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"})),f=a(184),y=a.n(f);const N=({title:e,itemName:t,itemData:a=[],setData:c})=>React.createElement(i.BaseControl,null,React.createElement(i.BaseControl.VisualLabel,null,e),React.createElement("div",{className:"__inner"},a.map(((n,r)=>React.createElement(i.Flex,{className:"__list",key:"merit_"+r,align:"center"},React.createElement(i.FlexBlock,null,React.createElement("span",{className:"__number"},r+1),React.createElement(i.TextControl,{value:n||"",placeholder:(0,l.sprintf)((0,l.__)("%sを入力してください","swell"),e),onChange:e=>{const l=[...a];l[r]=e,c({[t]:l})}})),React.createElement(i.FlexItem,null,React.createElement(i.Button,{icon:g,className:"__deleteBtn",isDestructive:!0,onClick:()=>{const e=a.filter(((e,t)=>t!==r));c({[t]:e})}}))))),React.createElement(i.Button,{text:(0,l.sprintf)((0,l.__)("%sを追加","swell"),e),icon:b,isPrimary:!0,className:"__addBtn",onClick:()=>{const e=[...a];e.push(""),c({merits:e})}}))),x=({data:e,isList:t=!1})=>t?React.createElement(React.Fragment,null,e.map(((e,t)=>React.createElement("li",{key:t},e)))):React.createElement(React.Fragment,null,e.map(((e,t)=>React.createElement("p",{key:t},e))));function k({data:e={},isSelected:t,setAttributes:a}){const c=t=>{a({data:{...e,...t}})},{showReviewBox:s,useType:o,productName:m,image:u={},author:d,rating:_,merits:w=[],demerits:p=[]}=e,v=s&&React.createElement("dl",{className:"__htmlPreview"},React.createElement("div",{className:"__name"},React.createElement("span",null,m||"")),(null==u?void 0:u.url)&&React.createElement("figure",{className:"__image"},React.createElement("img",{src:u.url,alt:"",width:null==u?void 0:u.width,height:null==u?void 0:u.height,loading:"lazy"})),_&&React.createElement("div",{className:"__rating"},React.createElement("span",{className:"__rating__label"},(0,l.__)("総合評価","swell")),React.createElement("div",{className:"__rating__value"},React.createElement(n.RawHTML,{className:"c-reviewStars"},function(e){let t="";for(let a=0;a<5;a++)t+=-.5==(e-=1)?'<i class="icon-star-half"></i>':e<0?'<i class="icon-star-empty"></i>':'<i class="icon-star-full"></i>';return t}(parseFloat(_))),React.createElement("small",{className:"__rating__str"},`( ${_} )`))),w.length>0&&React.createElement("div",{className:"__merits"},React.createElement("div",{className:"__label"},(0,l.__)("メリット","swell")),React.createElement("ul",{className:"__meritList is-style-good_list"},React.createElement(x,{isList:!0,data:w}))),p.length>0&&React.createElement("div",{className:"__demerits"},React.createElement("div",{className:"__label"},(0,l.__)("デメリット","swell")),React.createElement("ul",{className:"__demeritList is-style-bad_list"},React.createElement(x,{isList:!0,data:p}))));return t?React.createElement(React.Fragment,null,React.createElement("div",{className:"__settings"},React.createElement(i.ToggleControl,{label:(0,l.__)("コンテンツとしてレビューボックスを表示する","swell"),checked:s||!1,onChange:e=>c({showReviewBox:e})}),React.createElement(i.RadioControl,{selected:o||"box",options:[{label:(0,l.__)("コンテンツと構造化データ両方として利用する","swell"),value:"both"},{label:(0,l.__)("コンテンツとしてのみ利用する","swell"),value:"box"},{label:(0,l.__)("構造化データとしてのみ利用する","swell"),value:"json"}],onChange:e=>{c({useType:e})}}),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{className:y()("-required",{"-error":!m}),label:(0,l.__)("商品名","swell"),placeholder:(0,l.sprintf)((0,l.__)("%sを入力してください","swell"),(0,l.__)("商品名","swell")),value:m||"",onChange:e=>{c({productName:e})}})),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{className:y()("-required",{"-error":!d}),label:(0,l.__)("レビューをする人","swell"),placeholder:(0,l.sprintf)((0,l.__)("%sを入力してください","swell"),(0,l.__)("レビューをする人の名前","swell")),value:d||"",onChange:e=>{c({author:e})}}),React.createElement(i.CheckboxControl,{label:(0,l.__)("記事ページでは著者データを使用する","swell"),checked:(null==e?void 0:e.usePostAuthor)||!1,onChange:e=>c({usePostAuthor:e})})),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{label:(0,l.__)("画像URL","swell"),value:(null==u?void 0:u.url)||"",onChange:e=>{c({image:{url:e}})}}),React.createElement("div",{className:"swl-btns--media"},React.createElement(r.MediaUploadCheck,null,React.createElement(r.MediaUpload,{onSelect:e=>{e&&e.url?c({image:{id:e.id,url:e.url,width:(null==e?void 0:e.width)||void 0,height:(null==e?void 0:e.height)||void 0}}):c({image:void 0})},allowedTypes:"image",value:(null==u?void 0:u.id)||"",render:({open:e})=>React.createElement(i.Button,{text:(0,l.__)("メディアから選択","swell"),isPrimary:!0,onClick:e})})),React.createElement(i.Button,{text:(0,l.__)("削除","swell"),isSecondary:!0,className:"swl-btn--delete",onClick:()=>{c({image:void 0})}})),(null==u?void 0:u.id)&&React.createElement("p",{className:"description"},(0,l.__)("URLを直接編集すると、画像の付加情報は削除されます。","swell"),React.createElement("small",null,`( id: ${u.id}, width: ${null==u?void 0:u.width}, height: ${null==u?void 0:u.height} )`))),React.createElement("div",{className:"__row"},React.createElement(i.RangeControl,{label:(0,l.__)("評価","swell"),value:_||1,onChange:e=>{c({rating:e})},min:1,max:5,step:.5})),React.createElement("div",{className:"__row"},React.createElement(N,{title:(0,l.__)("メリット","swell"),itemName:"merits",itemData:w,setData:c})),React.createElement("div",{className:"__row"},React.createElement(N,{title:(0,l.__)("デメリット","swell"),itemName:"demerits",itemData:p,setData:c}))),React.createElement("p",{className:"description"},(0,l.__)("その他の付加情報については、ブロックサイドバーから設定できます。","swell")),React.createElement(r.InspectorControls,null,React.createElement(i.PanelBody,{title:(0,l.__)("製品情報","swell")},React.createElement("div",{className:"__row"},React.createElement(i.TextareaControl,{label:(0,l.__)("商品の説明","swell"),value:(null==e?void 0:e.description)||"",onChange:e=>{c({description:e})}})),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{label:(0,l.__)("sku","swell"),value:(null==e?void 0:e.sku)||"",onChange:e=>{c({sku:e})}})),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{label:(0,l.__)("ブランド名","swell"),value:(null==e?void 0:e.brandName)||"",onChange:e=>{c({brandName:e})}}))))):v||React.createElement(React.Fragment,null,v,React.createElement("dl",{className:"__settings -preview"},React.createElement("div",{className:"__row"},React.createElement("dt",null,(0,l.__)("商品名","swell")),React.createElement("dd",null,m||"")),React.createElement("div",{className:"__row"},React.createElement("dt",null,(0,l.__)("評価","swell")),React.createElement("dd",null,_||1)),React.createElement("div",{className:"__row"},React.createElement("dt",null,(0,l.__)("メリット","swell")),React.createElement("dd",null,React.createElement(x,{data:w}))),React.createElement("div",{className:"__row"},React.createElement("dt",null,(0,l.__)("デメリット","swell")),React.createElement("dd",null,React.createElement(x,{data:p})))))}(0,c.registerBlockType)(u,{title:(0,l.__)("構造化データ","swell"),icon:v,variations:p,edit:({attributes:e,setAttributes:t,isSelected:a})=>{const{type:c,data:n}=e;if(!c){const e=u;return React.createElement(h,{name:e,setAttributes:t})}const i=p.filter((e=>e.name===c)).shift();return React.createElement("div",(0,r.useBlockProps)({className:`swell-block-schema -${c}`}),React.createElement("div",{className:"__title"},React.createElement(m,{icon:i.icon}),(0,l.__)("構造化データ","swell")," : ",i.title),"video"===c&&React.createElement(k,{isSelected:a,data:n,setAttributes:t}))},save:()=>null})},184:function(e,t){var a;!function(){"use strict";var l={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var r=c.apply(null,a);r&&e.push(r)}}else if("object"===n)if(a.toString===Object.prototype.toString)for(var i in a)l.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(a=function(){return c}.apply(t,[]))||(e.exports=a)}()}},t={};function a(l){var c=t[l];if(void 0!==c)return c.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a(973)}();